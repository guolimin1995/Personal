{"version":3,"sources":["../src/install.ts"],"names":[],"mappings":"AAAA,OAAO,MAAP,MAAuC,KAAvC;AAEA,SAAS,YAAT,QAA6B,gBAA7B;AAEA,OAAM,SAAU,OAAV,CAAmB,GAAnB,EAAoE;AAAA,QAA5B,IAA4B,uEAAF,EAAE;;AACxE,QAAK,QAAgB,SAArB,EAAgC;AAC/B,YAAgB,SAAhB,GAA4B,IAA5B;AAED,QAAI,WAAW,GAAf,EAAoB;AAClB,qBAAa,0JAAb;AACD;AAED,QAAM,aAAa,KAAK,UAAL,IAAmB,EAAtC;AACA,QAAM,aAAa,KAAK,UAAL,IAAmB,EAAtC;AAEA,SAAK,IAAM,IAAX,IAAmB,UAAnB,EAA+B;AAC7B,YAAM,YAAY,WAAW,IAAX,CAAlB;AAEA,YAAI,SAAJ,CAAc,IAAd,EAAoB,SAApB;AACD;AAED,KAAC,SAAS,kBAAT,CAA6B,UAA7B,EAA4C;AAC3C,YAAI,UAAJ,EAAgB;AACd,iBAAK,IAAM,GAAX,IAAkB,UAAlB,EAA8B;AAC5B,oBAAM,YAAY,WAAW,GAAX,CAAlB;AACA,oBAAI,aAAa,CAAC,mBAAmB,UAAU,uBAA7B,CAAlB,EAAyE;AACvE,wBAAI,SAAJ,CAAc,GAAd,EAAmB,SAAnB;AACD;AACF;AACD,mBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD,KAXD,EAWG,UAXH;AAaA;AACA;AACA;AACA,QAAI,IAAI,mBAAR,EAA6B;AAC7B,QAAI,mBAAJ,GAA0B,IAA1B;AAEA,QAAI,KAAJ,CAAU;AACR,oBADQ,0BACI;AACV,gBAAM,UAAU,KAAK,QAArB;AAEA,gBAAI,QAAQ,OAAZ,EAAqB;AACnB,wBAAQ,OAAR,CAAgB,IAAhB,CAAqB,IAArB,EAA2B,QAAQ,UAAnC;AACA,qBAAK,QAAL,GAAgB,IAAI,UAAJ,CAAe,QAAQ,OAAR,CAAgB,SAA/B,CAAhB;AACD,aAHD,MAGO;AACL,qBAAK,QAAL,GAAiB,QAAQ,MAAR,IAAkB,QAAQ,MAAR,CAAe,QAAlC,IAA+C,IAA/D;AACD;AACF;AAVO,KAAV;AAYD","sourcesContent":["import OurVue, { VueConstructor } from 'vue'\nimport { VuetifyUseOptions } from 'types'\nimport { consoleError } from './util/console'\n\nexport function install (Vue: VueConstructor, args: VuetifyUseOptions = {}) {\n  if ((install as any).installed) return\n  (install as any).installed = true\n\n  if (OurVue !== Vue) {\n    consoleError('Multiple instances of Vue detected\\nSee https://github.com/vuetifyjs/vuetify/issues/4068\\n\\nIf you\\'re seeing \"$attrs is readonly\", it\\'s caused by this')\n  }\n\n  const components = args.components || {}\n  const directives = args.directives || {}\n\n  for (const name in directives) {\n    const directive = directives[name]\n\n    Vue.directive(name, directive)\n  }\n\n  (function registerComponents (components: any) {\n    if (components) {\n      for (const key in components) {\n        const component = components[key]\n        if (component && !registerComponents(component.$_vuetify_subcomponents)) {\n          Vue.component(key, component as typeof Vue)\n        }\n      }\n      return true\n    }\n    return false\n  })(components)\n\n  // Used to avoid multiple mixins being setup\n  // when in dev mode and hot module reload\n  // https://github.com/vuejs/vue/issues/5089#issuecomment-284260111\n  if (Vue.$_vuetify_installed) return\n  Vue.$_vuetify_installed = true\n\n  Vue.mixin({\n    beforeCreate () {\n      const options = this.$options as any\n\n      if (options.vuetify) {\n        options.vuetify.init(this, options.ssrContext)\n        this.$vuetify = Vue.observable(options.vuetify.framework)\n      } else {\n        this.$vuetify = (options.parent && options.parent.$vuetify) || this\n      }\n    },\n  })\n}\n"],"sourceRoot":""}