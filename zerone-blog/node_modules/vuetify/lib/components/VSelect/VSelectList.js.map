{"version":3,"sources":["../../../src/components/VSelect/VSelectList.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport '../VCard/VCard.sass'\n\n// Components\nimport VSimpleCheckbox from '../VCheckbox/VSimpleCheckbox'\nimport VDivider from '../VDivider'\nimport VSubheader from '../VSubheader'\nimport {\n  VList,\n  VListItem,\n  VListItemAction,\n  VListItemContent,\n  VListItemTitle,\n} from '../VList'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\n\n// Helpers\nimport {\n  escapeHTML,\n  getPropertyFromItem,\n} from '../../util/helpers'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\n/* @vue/component */\nexport default mixins(Colorable, Themeable).extend({\n  name: 'v-select-list',\n\n  // https://github.com/vuejs/vue/issues/6872\n  directives: {\n    ripple,\n  },\n\n  props: {\n    action: Boolean,\n    dense: Boolean,\n    hideSelected: Boolean,\n    items: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    itemDisabled: {\n      type: [String, Array, Function],\n      default: 'disabled',\n    } as PropValidator<string | (string | number)[] | ((item: object, fallback?: any) => any)>,\n    itemText: {\n      type: [String, Array, Function],\n      default: 'text',\n    } as PropValidator<string | (string | number)[] | ((item: object, fallback?: any) => any)>,\n    itemValue: {\n      type: [String, Array, Function],\n      default: 'value',\n    } as PropValidator<string | (string | number)[] | ((item: object, fallback?: any) => any)>,\n    noDataText: String,\n    noFilter: Boolean,\n    searchInput: {\n      default: null,\n    } as PropValidator<any>,\n    selectedItems: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n  },\n\n  computed: {\n    parsedItems (): any[] {\n      return this.selectedItems.map(item => this.getValue(item))\n    },\n    tileActiveClass (): string {\n      return Object.keys(this.setTextColor(this.color).class || {}).join(' ')\n    },\n    staticNoDataTile (): VNode {\n      const tile = {\n        attrs: {\n          role: undefined,\n        },\n        on: {\n          mousedown: (e: Event) => e.preventDefault(), // Prevent onBlur from being called\n        },\n      }\n\n      return this.$createElement(VListItem, tile, [\n        this.genTileContent(this.noDataText),\n      ])\n    },\n  },\n\n  methods: {\n    genAction (item: object, inputValue: any): VNode {\n      return this.$createElement(VListItemAction, [\n        this.$createElement(VSimpleCheckbox, {\n          props: {\n            color: this.color,\n            value: inputValue,\n          },\n          on: {\n            input: () => this.$emit('select', item),\n          },\n        }),\n      ])\n    },\n    genDivider (props: { [key: string]: any }) {\n      return this.$createElement(VDivider, { props })\n    },\n    genFilteredText (text: string) {\n      text = text || ''\n\n      if (!this.searchInput || this.noFilter) return escapeHTML(text)\n\n      const { start, middle, end } = this.getMaskedCharacters(text)\n\n      return `${escapeHTML(start)}${this.genHighlight(middle)}${escapeHTML(end)}`\n    },\n    genHeader (props: { [key: string]: any }): VNode {\n      return this.$createElement(VSubheader, { props }, props.header)\n    },\n    genHighlight (text: string): string {\n      return `<span class=\"v-list-item__mask\">${escapeHTML(text)}</span>`\n    },\n    genLabelledBy (item: object) {\n      const text = escapeHTML(this.getText(item).split(' ').join('-').toLowerCase())\n\n      return `${text}-list-item-${this._uid}`\n    },\n    getMaskedCharacters (text: string): {\n      start: string\n      middle: string\n      end: string\n    } {\n      const searchInput = (this.searchInput || '').toString().toLocaleLowerCase()\n      const index = text.toLocaleLowerCase().indexOf(searchInput)\n\n      if (index < 0) return { start: '', middle: text, end: '' }\n\n      const start = text.slice(0, index)\n      const middle = text.slice(index, index + searchInput.length)\n      const end = text.slice(index + searchInput.length)\n      return { start, middle, end }\n    },\n    genTile (\n      item: object,\n      disabled = null as null | boolean,\n      value = false\n    ): VNode | VNode[] | undefined {\n      if (!value) value = this.hasItem(item)\n\n      if (item === Object(item)) {\n        disabled = disabled !== null\n          ? disabled\n          : this.getDisabled(item)\n      }\n\n      const tile = {\n        attrs: {\n          // Default behavior in list does not\n          // contain aria-selected by default\n          'aria-selected': String(value),\n          'aria-labelledby': this.genLabelledBy(item),\n          role: 'option',\n        },\n        on: {\n          mousedown: (e: Event) => {\n            // Prevent onBlur from being called\n            e.preventDefault()\n          },\n          click: () => disabled || this.$emit('select', item),\n        },\n        props: {\n          activeClass: this.tileActiveClass,\n          disabled,\n          ripple: true,\n          inputValue: value,\n        },\n      }\n\n      if (!this.$scopedSlots.item) {\n        return this.$createElement(VListItem, tile, [\n          this.action && !this.hideSelected && this.items.length > 0\n            ? this.genAction(item, value)\n            : null,\n          this.genTileContent(item),\n        ])\n      }\n\n      const parent = this\n      const scopedSlot = this.$scopedSlots.item({\n        parent,\n        item,\n        attrs: {\n          ...tile.attrs,\n          ...tile.props,\n        },\n        on: tile.on,\n      })\n\n      return this.needsTile(scopedSlot)\n        ? this.$createElement(VListItem, tile, scopedSlot)\n        : scopedSlot\n    },\n    genTileContent (item: any): VNode {\n      const innerHTML = this.genFilteredText(this.getText(item))\n\n      return this.$createElement(VListItemContent,\n        [this.$createElement(VListItemTitle, {\n          attrs: { id: this.genLabelledBy(item) },\n          domProps: { innerHTML },\n        })]\n      )\n    },\n    hasItem (item: object) {\n      return this.parsedItems.indexOf(this.getValue(item)) > -1\n    },\n    needsTile (slot: VNode[] | undefined) {\n      return slot!.length !== 1 ||\n        slot![0].componentOptions == null ||\n        slot![0].componentOptions.Ctor.options.name !== 'v-list-item'\n    },\n    getDisabled (item: object) {\n      return Boolean(getPropertyFromItem(item, this.itemDisabled, false))\n    },\n    getText (item: object) {\n      return String(getPropertyFromItem(item, this.itemText, item))\n    },\n    getValue (item: object) {\n      return getPropertyFromItem(item, this.itemValue, this.getText(item))\n    },\n  },\n\n  render (): VNode {\n    const children = []\n    for (const item of this.items) {\n      if (this.hideSelected &&\n        this.hasItem(item)\n      ) continue\n\n      if (item == null) children.push(this.genTile(item))\n      else if (item.header) children.push(this.genHeader(item))\n      else if (item.divider) children.push(this.genDivider(item))\n      else children.push(this.genTile(item))\n    }\n\n    children.length || children.push(this.$slots['no-data'] || this.staticNoDataTile)\n\n    this.$slots['prepend-item'] && children.unshift(this.$slots['prepend-item'])\n\n    this.$slots['append-item'] && children.push(this.$slots['append-item'])\n\n    return this.$createElement('div', {\n      staticClass: 'v-select-list v-card',\n      class: this.themeClasses,\n    }, [\n      this.$createElement(VList, {\n        attrs: {\n          id: this.$attrs.id,\n          role: 'listbox',\n          tabindex: -1,\n        },\n        props: { dense: this.dense },\n      }, children),\n    ])\n  },\n})\n"],"sourceRoot":""}