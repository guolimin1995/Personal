{"version":3,"sources":["../../../src/components/VColorPicker/VColorPicker.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VColorPicker.sass'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\nimport VColorPickerPreview from './VColorPickerPreview'\nimport VColorPickerCanvas from './VColorPickerCanvas'\nimport VColorPickerEdit, { Mode, modes } from './VColorPickerEdit'\nimport VColorPickerSwatches from './VColorPickerSwatches'\n\n// Helpers\nimport { VColorPickerColor, parseColor, fromRGBA, extractColor } from './util'\nimport mixins from '../../util/mixins'\nimport Themeable from '../../mixins/themeable'\n\n// Types\nimport { VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\nexport default mixins(Themeable).extend({\n  name: 'v-color-picker',\n\n  props: {\n    canvasHeight: {\n      type: [String, Number],\n      default: 150,\n    },\n    disabled: Boolean,\n    dotSize: {\n      type: [Number, String],\n      default: 10,\n    },\n    flat: Boolean,\n    hideCanvas: Boolean,\n    hideInputs: Boolean,\n    hideModeSwitch: Boolean,\n    mode: {\n      type: String,\n      default: 'rgba',\n      validator: (v: string) => Object.keys(modes).includes(v),\n    },\n    showSwatches: Boolean,\n    swatches: Array as PropValidator<string[][]>,\n    swatchesMaxHeight: {\n      type: [Number, String],\n      default: 150,\n    },\n    value: {\n      type: [Object, String],\n    },\n    width: {\n      type: [Number, String],\n      default: 300,\n    },\n  },\n\n  data: () => ({\n    internalValue: fromRGBA({ r: 255, g: 0, b: 0, a: 1 }),\n  }),\n\n  watch: {\n    value: {\n      handler (color: any) {\n        this.updateColor(parseColor(color, this.internalValue))\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    updateColor (color: VColorPickerColor) {\n      this.internalValue = color\n      const value = extractColor(this.internalValue, this.value)\n\n      if (value !== this.value) {\n        this.$emit('input', value)\n        this.$emit('update:color', this.internalValue)\n      }\n    },\n    genCanvas (): VNode {\n      return this.$createElement(VColorPickerCanvas, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          dotSize: this.dotSize,\n          width: this.width,\n          height: this.canvasHeight,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n    genControls (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__controls',\n      }, [\n        this.genPreview(),\n        !this.hideInputs && this.genEdit(),\n      ])\n    },\n    genEdit (): VNode {\n      return this.$createElement(VColorPickerEdit, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n          hideModeSwitch: this.hideModeSwitch,\n          mode: this.mode,\n        },\n        on: {\n          'update:color': this.updateColor,\n          'update:mode': (v: Mode) => this.$emit('update:mode', v),\n        },\n      })\n    },\n    genPreview (): VNode {\n      return this.$createElement(VColorPickerPreview, {\n        props: {\n          color: this.internalValue,\n          disabled: this.disabled,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n    genSwatches (): VNode {\n      return this.$createElement(VColorPickerSwatches, {\n        props: {\n          dark: this.dark,\n          light: this.light,\n          swatches: this.swatches,\n          color: this.internalValue,\n          maxHeight: this.swatchesMaxHeight,\n        },\n        on: {\n          'update:color': this.updateColor,\n        },\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h(VSheet, {\n      staticClass: 'v-color-picker',\n      class: {\n        'v-color-picker--flat': this.flat,\n        ...this.themeClasses,\n      },\n      props: {\n        maxWidth: this.width,\n      },\n    }, [\n      !this.hideCanvas && this.genCanvas(),\n      this.genControls(),\n      this.showSwatches && this.genSwatches(),\n    ])\n  },\n})\n"],"sourceRoot":""}