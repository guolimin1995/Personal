{"version":3,"sources":["../../../src/components/VProgressLinear/VProgressLinear.ts"],"names":[],"mappings":"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","sourcesContent":["import './VProgressLinear.sass'\n\n// Components\nimport {\n  VFadeTransition,\n  VSlideXTransition,\n} from '../transitions'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\nimport Proxyable from '../../mixins/proxyable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { FunctionalComponentOptions } from 'vue/types'\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  PositionableFactory(['absolute', 'fixed', 'top', 'bottom']),\n  Proxyable,\n  Themeable\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-progress-linear',\n\n  props: {\n    active: {\n      type: Boolean,\n      default: true,\n    },\n    backgroundColor: {\n      type: String,\n      default: null,\n    },\n    backgroundOpacity: {\n      type: [Number, String],\n      default: null,\n    },\n    bufferValue: {\n      type: [Number, String],\n      default: 100,\n    },\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    height: {\n      type: [Number, String],\n      default: 4,\n    },\n    indeterminate: Boolean,\n    query: Boolean,\n    rounded: Boolean,\n    stream: Boolean,\n    striped: Boolean,\n    value: {\n      type: [Number, String],\n      default: 0,\n    },\n  },\n\n  data () {\n    return {\n      internalLazyValue: this.value || 0,\n    }\n  },\n\n  computed: {\n    __cachedBackground (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.backgroundColor || this.color, {\n        staticClass: 'v-progress-linear__background',\n        style: this.backgroundStyle,\n      }))\n    },\n    __cachedBar (): VNode {\n      return this.$createElement(this.computedTransition, [this.__cachedBarType])\n    },\n    __cachedBarType (): VNode {\n      return this.indeterminate ? this.__cachedIndeterminate : this.__cachedDeterminate\n    },\n    __cachedBuffer (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__buffer',\n        style: this.styles,\n      })\n    },\n    __cachedDeterminate (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: `v-progress-linear__determinate`,\n        style: {\n          width: convertToUnit(this.normalizedValue, '%'),\n        },\n      }))\n    },\n    __cachedIndeterminate (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__indeterminate',\n        class: {\n          'v-progress-linear__indeterminate--active': this.active,\n        },\n      }, [\n        this.genProgressBar('long'),\n        this.genProgressBar('short'),\n      ])\n    },\n    __cachedStream (): VNode | null {\n      if (!this.stream) return null\n\n      return this.$createElement('div', this.setTextColor(this.color, {\n        staticClass: 'v-progress-linear__stream',\n        style: {\n          width: convertToUnit(100 - this.normalizedBuffer, '%'),\n        },\n      }))\n    },\n    backgroundStyle (): object {\n      const backgroundOpacity = this.backgroundOpacity == null\n        ? (this.backgroundColor ? 1 : 0.3)\n        : parseFloat(this.backgroundOpacity)\n\n      return {\n        opacity: backgroundOpacity,\n        width: convertToUnit(this.normalizedBuffer, '%'),\n      }\n    },\n    classes (): object {\n      return {\n        'v-progress-linear--absolute': this.absolute,\n        'v-progress-linear--fixed': this.fixed,\n        'v-progress-linear--query': this.query,\n        'v-progress-linear--reactive': this.reactive,\n        'v-progress-linear--rounded': this.rounded,\n        'v-progress-linear--striped': this.striped,\n        ...this.themeClasses,\n      }\n    },\n    computedTransition (): FunctionalComponentOptions {\n      return this.indeterminate ? VFadeTransition : VSlideXTransition\n    },\n    normalizedBuffer (): number {\n      return this.normalize(this.bufferValue)\n    },\n    normalizedValue (): number {\n      return this.normalize(this.internalLazyValue)\n    },\n    reactive (): boolean {\n      return Boolean(this.$listeners.change)\n    },\n    styles (): object {\n      const styles: Record<string, any> = {}\n\n      if (!this.active) {\n        styles.height = 0\n      }\n\n      if (!this.indeterminate && parseFloat(this.normalizedBuffer) !== 100) {\n        styles.width = convertToUnit(this.normalizedBuffer, '%')\n      }\n\n      return styles\n    },\n  },\n\n  methods: {\n    genContent () {\n      const slot = getSlot(this, 'default', { value: this.internalLazyValue })\n\n      if (!slot) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__content',\n      }, slot)\n    },\n    genListeners () {\n      const listeners = this.$listeners\n\n      if (this.reactive) {\n        listeners.click = this.onClick\n      }\n\n      return listeners\n    },\n    genProgressBar (name: 'long' | 'short') {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-progress-linear__indeterminate',\n        class: {\n          [name]: true,\n        },\n      }))\n    },\n    onClick (e: MouseEvent) {\n      if (!this.reactive) return\n\n      const { width } = this.$el.getBoundingClientRect()\n\n      this.internalValue = e.offsetX / width * 100\n    },\n    normalize (value: string | number) {\n      if (value < 0) return 0\n      if (value > 100) return 100\n      return parseFloat(value)\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-progress-linear',\n      attrs: {\n        'role': 'progressbar',\n        'aria-valuemin': 0,\n        'aria-valuemax': this.normalizedBuffer,\n        'aria-valuenow': this.indeterminate ? undefined : this.normalizedValue,\n      },\n      class: this.classes,\n      style: {\n        bottom: this.bottom ? 0 : undefined,\n        height: this.active ? convertToUnit(this.height) : 0,\n        top: this.top ? 0 : undefined,\n      },\n      on: this.genListeners(),\n    }\n\n    return h('div', data, [\n      this.__cachedStream,\n      this.__cachedBackground,\n      this.__cachedBuffer,\n      this.__cachedBar,\n      this.genContent(),\n    ])\n  },\n})\n"],"sourceRoot":""}