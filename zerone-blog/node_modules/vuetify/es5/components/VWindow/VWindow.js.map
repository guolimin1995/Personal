{"version":3,"sources":["../../../src/components/VWindow/VWindow.ts"],"names":[],"mappings":";;;;;;;;AAGA;;AAKA;;;AAPA;;AAGA;;;;AACA;;;;AACA;;AAGA;;;;;;AAKA;kBACe,0BAAc,MAAd,CAAqB;AAClC,UAAM,UAD4B;AAGlC,WAHkC,qBAG3B;AACL,eAAO;AACL,yBAAa;AADR,SAAP;AAGD,KAPiC;;AASlC,gBAAY,EAAE,sBAAF,EATsB;AAWlC,WAAO;AACL,qBAAa;AACX,kBAAM,MADK;AAEX,qBAAS;AAFE,SADR;AAKL,oBAAY,OALP;AAML,mBAAW;AACT,kBAAM,OADG;AAET,qBAAS;AAFA,SANN;AAUL,kBAAU;AACR,kBAAM,CAAC,OAAD,EAAU,MAAV,CADE;AAER,qBAAS;AAFD,SAVL;AAcL,kBAAU;AACR,kBAAM,CAAC,OAAD,EAAU,MAAV,CADE;AAER,qBAAS;AAFD,SAdL;AAkBL,iBAAS;AACP,kBAAM,OADC;AAEP,qBAAS;AAFF,SAlBJ;AAsBL,oBAAY,OAtBP;AAuBL,2BAAmB,OAvBd;AAwBL,eAAO,MAxBF;AAyBL,mBAAW,OAzBN;AA0BL,eAAO;AACL,sBAAU;AADL,SA1BF;AA6BL,kBAAU;AA7BL,KAX2B;AA2ClC,QA3CkC,kBA2C9B;AACF,eAAO;AACL,iCAAqB,KADhB;AAEL,4BAAgB,SAFX;AAGL,sBAAU,KAHL;AAIL,sBAAU,KAJL;AAKL,uBAAW;AALN,SAAP;AAOD,KAnDiC;;AAqDlC,cAAU;AACR,eADQ,qBACD;AACL,gCACK,0BAAc,OAAd,CAAsB,QAAtB,CAA+B,OAA/B,CAAuC,IAAvC,CAA4C,IAA5C,CADL;AAEE,kDAAkC,KAAK;AAFzC;AAID,SANO;AAOR,0BAPQ,gCAOU;AAChB,gBAAI,CAAC,KAAK,QAAV,EAAoB,OAAO,EAAP;AAEpB,gBAAM,OAAO,KAAK,QAAL,GAAgB,GAAhB,GAAsB,GAAnC;AACA,gBAAM,YAAY,KAAK,eAAL,GAAuB,UAAvB,GAAoC,EAAtD;AAEA,iCAAmB,IAAnB,GAA0B,SAA1B;AACD,SAdO;AAeR,sBAfQ,4BAeM;AACZ,mBAAO,QACL,KAAK,KAAL,CAAW,IAAX,CAAgB;AAAA,uBAAQ,CAAC,KAAK,QAAd;AAAA,aAAhB,CADK,CAAP;AAGD,SAnBO;AAoBR,eApBQ,qBAoBD;AACL,mBAAO,KAAK,UAAL,IAAmB,KAAK,aAAL,GAAqB,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAnE;AACD,SAtBO;AAuBR,eAvBQ,qBAuBD;AACL,mBAAO,KAAK,UAAL,IAAmB,KAAK,aAAL,GAAqB,CAA/C;AACD,SAzBO;AA0BR,qBA1BQ,2BA0BK;AAAA;;AACX,mBAAO,KAAK,KAAL,CAAW,SAAX,CAAqB,UAAC,IAAD,EAAO,CAAP,EAAY;AACtC,uBAAO,MAAK,aAAL,KAAuB,MAAK,QAAL,CAAc,IAAd,EAAoB,CAApB,CAA9B;AACD,aAFM,CAAP;AAGD,SA9BO;AA+BR,uBA/BQ,6BA+BO;AACb,gBAAI,KAAK,OAAL,KAAiB,SAArB,EAAgC,OAAO,KAAK,OAAZ;AAEhC,mBAAO,KAAK,SAAZ;AACD;AAnCO,KArDwB;AA2FlC,WAAO;AACL,uBAAe;AADV,KA3F2B;AA+FlC,WA/FkC,qBA+F3B;AAAA;;AACL,eAAO,qBAAP,CAA6B;AAAA,mBAAO,OAAK,QAAL,GAAgB,IAAvB;AAAA,SAA7B;AACD,KAjGiC;;AAmGlC,aAAS;AACP,oBADO,0BACK;AACV,gBAAM,WAAW,CAAC,KAAK,MAAL,CAAY,OAAb,CAAjB;AAEA,gBAAI,KAAK,UAAT,EAAqB;AACnB,yBAAS,IAAT,CAAc,KAAK,eAAL,EAAd;AACD;AAED,mBAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B;AAChC,6BAAa,qBADmB;AAEhC,uBAAO;AACL,sDAAkC,KAAK;AADlC,iBAFyB;AAKhC,uBAAO;AACL,4BAAQ,KAAK;AADR;AALyB,aAA3B,EAQJ,QARI,CAAP;AASD,SAjBM;AAkBP,eAlBO,mBAmBL,SAnBK,EAoBL,IApBK,EAqBL,EArBK,EAqBS;AAAA;;AAEd,mBAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B;AAChC,4CAA0B;AADM,aAA3B,EAEJ,CACD,KAAK,cAAL,CAAoB,cAApB,EAA0B;AACxB,uBAAO;AACL,0BAAM;AADD,iBADiB;AAIxB,uBAAO;AACL,kCAAc,KAAK,QAAL,CAAc,IAAd,CAAmB,CAAnB,wBAA0C,SAA1C;AADT,iBAJiB;AAOxB,oBAAI;AACF,2BAAO,iBAAK;AACV,+BAAK,mBAAL,GAA2B,IAA3B;AACA;AACD;AAJC;AAPoB,aAA1B,EAaG,CACD,KAAK,cAAL,CAAoB,eAApB,EAA2B;AACzB,uBAAO,EAAE,MAAM,EAAR;AADkB,aAA3B,EAEG,IAFH,CADC,CAbH,CADC,CAFI,CAAP;AAsBD,SA7CM;AA8CP,uBA9CO,6BA8CQ;AACb,gBAAM,QAAQ,EAAd;AAEA,gBAAM,WAAW,KAAK,QAAL,CAAc,GAAd,GACb,KAAK,QADQ,GAEb,KAAK,QAFT;AAIA;AACA,gBACE,KAAK,OAAL,IACA,QADA,IAEA,OAAO,QAAP,KAAoB,QAHtB,EAIE;AACA,oBAAM,OAAO,KAAK,OAAL,CAAa,MAAb,EAAqB,QAArB,EAA+B,KAAK,IAApC,CAAb;AACA,wBAAQ,MAAM,IAAN,CAAW,IAAX,CAAR;AACD;AAED,gBAAM,WAAW,KAAK,QAAL,CAAc,GAAd,GACb,KAAK,QADQ,GAEb,KAAK,QAFT;AAIA;AACA,gBACE,KAAK,OAAL,IACA,QADA,IAEA,OAAO,QAAP,KAAoB,QAHtB,EAIE;AACA,oBAAM,QAAO,KAAK,OAAL,CAAa,MAAb,EAAqB,QAArB,EAA+B,KAAK,IAApC,CAAb;AACA,yBAAQ,MAAM,IAAN,CAAW,KAAX,CAAR;AACD;AAED,mBAAO,KAAP;AACD,SA9EM;AA+EP,oBA/EO,wBA+EO,KA/EP,EA+EoB;AACzB,gBAAM,YAAY,CAAC,QAAQ,CAAT,IAAc,KAAK,KAAL,CAAW,MAA3C;AACA,gBAAM,OAAO,KAAK,KAAL,CAAW,SAAX,CAAb;AAEA,gBAAI,KAAK,QAAT,EAAmB,OAAO,KAAK,YAAL,CAAkB,SAAlB,CAAP;AAEnB,mBAAO,SAAP;AACD,SAtFM;AAuFP,oBAvFO,wBAuFO,KAvFP,EAuFoB;AACzB,gBAAM,YAAY,CAAC,QAAQ,KAAK,KAAL,CAAW,MAAnB,GAA4B,CAA7B,IAAkC,KAAK,KAAL,CAAW,MAA/D;AACA,gBAAM,OAAO,KAAK,KAAL,CAAW,SAAX,CAAb;AAEA,gBAAI,KAAK,QAAT,EAAmB,OAAO,KAAK,YAAL,CAAkB,SAAlB,CAAP;AAEnB,mBAAO,SAAP;AACD,SA9FM;AA+FP,YA/FO,kBA+FH;AACF,iBAAK,SAAL,GAAiB,KAAK,QAAL,CAAc,GAA/B;AAEA;AACA,gBAAI,CAAC,KAAK,cAAV,EAA0B;AAE1B,gBAAM,YAAY,KAAK,YAAL,CAAkB,KAAK,aAAvB,CAAlB;AACA,gBAAM,OAAO,KAAK,KAAL,CAAW,SAAX,CAAb;AAEA,iBAAK,aAAL,GAAqB,KAAK,QAAL,CAAc,IAAd,EAAoB,SAApB,CAArB;AACD,SAzGM;AA0GP,YA1GO,kBA0GH;AACF,iBAAK,SAAL,GAAiB,CAAC,KAAK,QAAL,CAAc,GAAhC;AAEA;AACA,gBAAI,CAAC,KAAK,cAAV,EAA0B;AAE1B,gBAAM,YAAY,KAAK,YAAL,CAAkB,KAAK,aAAvB,CAAlB;AACA,gBAAM,OAAO,KAAK,KAAL,CAAW,SAAX,CAAb;AAEA,iBAAK,aAAL,GAAqB,KAAK,QAAL,CAAc,IAAd,EAAoB,SAApB,CAArB;AACD,SApHM;AAqHP,qBArHO,yBAqHQ,GArHR,EAqHqB,MArHrB,EAqHmC;AACxC,gBAAI,KAAK,mBAAT,EAA8B;AAC5B,qBAAK,mBAAL,GAA2B,KAA3B;AACA;AACD;AAED,iBAAK,SAAL,GAAiB,MAAM,MAAvB;AACD;AA5HM,KAnGyB;AAkOlC,UAlOkC,kBAkO1B,CAlO0B,EAkOzB;AAAA;;AACP,YAAM,OAAO;AACX,yBAAa,UADF;AAEX,mBAAO,KAAK,OAFD;AAGX,wBAAY;AAHD,SAAb;AAMA,YAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,gBAAM,QAAQ,KAAK,KAAL,IAAc;AAC1B,sBAAM,gBAAK;AACT,2BAAK,QAAL,CAAc,GAAd,GAAoB,OAAK,IAAL,EAApB,GAAkC,OAAK,IAAL,EAAlC;AACD,iBAHyB;AAI1B,uBAAO,iBAAK;AACV,2BAAK,QAAL,CAAc,GAAd,GAAoB,OAAK,IAAL,EAApB,GAAkC,OAAK,IAAL,EAAlC;AACD,iBANyB;AAO1B,qBAAK,aAAC,CAAD,EAAkB;AACrB,sBAAE,eAAF;AACD,iBATyB;AAU1B,uBAAO,eAAC,CAAD,EAAkB;AACvB,sBAAE,eAAF;AACD;AAZyB,aAA5B;AAeA,iBAAK,UAAL,CAAgB,IAAhB,CAAqB;AACnB,sBAAM,OADa;AAEnB;AAFmB,aAArB;AAID;AAED,eAAO,EAAE,KAAF,EAAS,IAAT,EAAe,CAAC,KAAK,YAAL,EAAD,CAAf,CAAP;AACD;AAhQiC,CAArB,C","sourcesContent":["// Styles\nimport './VWindow.sass'\n\n// Components\nimport VBtn from '../VBtn'\nimport VIcon from '../VIcon'\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Types\nimport { VNode, VNodeDirective } from 'vue/types/vnode'\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'v-window',\n\n  provide (): object {\n    return {\n      windowGroup: this,\n    }\n  },\n\n  directives: { Touch },\n\n  props: {\n    activeClass: {\n      type: String,\n      default: 'v-window-item--active',\n    },\n    continuous: Boolean,\n    mandatory: {\n      type: Boolean,\n      default: true,\n    },\n    nextIcon: {\n      type: [Boolean, String],\n      default: '$vuetify.icons.next',\n    },\n    prevIcon: {\n      type: [Boolean, String],\n      default: '$vuetify.icons.prev',\n    },\n    reverse: {\n      type: Boolean,\n      default: undefined,\n    },\n    showArrows: Boolean,\n    showArrowsOnHover: Boolean,\n    touch: Object,\n    touchless: Boolean,\n    value: {\n      required: false,\n    },\n    vertical: Boolean,\n  },\n\n  data () {\n    return {\n      changedByDelimiters: false,\n      internalHeight: undefined as undefined | string,\n      isActive: false,\n      isBooted: false,\n      isReverse: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-window--show-arrows-on-hover': this.showArrowsOnHover,\n      }\n    },\n    computedTransition (): string {\n      if (!this.isBooted) return ''\n\n      const axis = this.vertical ? 'y' : 'x'\n      const direction = this.internalReverse ? '-reverse' : ''\n\n      return `v-window-${axis}${direction}-transition`\n    },\n    hasActiveItems (): boolean {\n      return Boolean(\n        this.items.find(item => !item.disabled)\n      )\n    },\n    hasNext (): boolean {\n      return this.continuous || this.internalIndex < this.items.length - 1\n    },\n    hasPrev (): boolean {\n      return this.continuous || this.internalIndex > 0\n    },\n    internalIndex (): number {\n      return this.items.findIndex((item, i) => {\n        return this.internalValue === this.getValue(item, i)\n      })\n    },\n    internalReverse (): boolean {\n      if (this.reverse !== undefined) return this.reverse\n\n      return this.isReverse\n    },\n  },\n\n  watch: {\n    internalIndex: 'updateReverse',\n  },\n\n  mounted () {\n    window.requestAnimationFrame(() => (this.isBooted = true))\n  },\n\n  methods: {\n    genContainer (): VNode {\n      const children = [this.$slots.default]\n\n      if (this.showArrows) {\n        children.push(this.genControlIcons())\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-window__container',\n        class: {\n          'v-window__container--is-active': this.isActive,\n        },\n        style: {\n          height: this.internalHeight,\n        },\n      }, children)\n    },\n    genIcon (\n      direction: 'prev' | 'next',\n      icon: string,\n      fn: () => void\n    ) {\n      return this.$createElement('div', {\n        staticClass: `v-window__${direction}`,\n      }, [\n        this.$createElement(VBtn, {\n          props: {\n            icon: true,\n          },\n          attrs: {\n            'aria-label': this.$vuetify.lang.t(`$vuetify.carousel.${direction}`),\n          },\n          on: {\n            click: () => {\n              this.changedByDelimiters = true\n              fn()\n            },\n          },\n        }, [\n          this.$createElement(VIcon, {\n            props: { size: 40 },\n          }, icon),\n        ]),\n      ])\n    },\n    genControlIcons () {\n      const icons = []\n\n      const prevIcon = this.$vuetify.rtl\n        ? this.nextIcon\n        : this.prevIcon\n\n      /* istanbul ignore else */\n      if (\n        this.hasPrev &&\n        prevIcon &&\n        typeof prevIcon === 'string'\n      ) {\n        const icon = this.genIcon('prev', prevIcon, this.prev)\n        icon && icons.push(icon)\n      }\n\n      const nextIcon = this.$vuetify.rtl\n        ? this.prevIcon\n        : this.nextIcon\n\n      /* istanbul ignore else */\n      if (\n        this.hasNext &&\n        nextIcon &&\n        typeof nextIcon === 'string'\n      ) {\n        const icon = this.genIcon('next', nextIcon, this.next)\n        icon && icons.push(icon)\n      }\n\n      return icons\n    },\n    getNextIndex (index: number): number {\n      const nextIndex = (index + 1) % this.items.length\n      const item = this.items[nextIndex]\n\n      if (item.disabled) return this.getNextIndex(nextIndex)\n\n      return nextIndex\n    },\n    getPrevIndex (index: number): number {\n      const prevIndex = (index + this.items.length - 1) % this.items.length\n      const item = this.items[prevIndex]\n\n      if (item.disabled) return this.getPrevIndex(prevIndex)\n\n      return prevIndex\n    },\n    next () {\n      this.isReverse = this.$vuetify.rtl\n\n      /* istanbul ignore if */\n      if (!this.hasActiveItems) return\n\n      const nextIndex = this.getNextIndex(this.internalIndex)\n      const item = this.items[nextIndex]\n\n      this.internalValue = this.getValue(item, nextIndex)\n    },\n    prev () {\n      this.isReverse = !this.$vuetify.rtl\n\n      /* istanbul ignore if */\n      if (!this.hasActiveItems) return\n\n      const lastIndex = this.getPrevIndex(this.internalIndex)\n      const item = this.items[lastIndex]\n\n      this.internalValue = this.getValue(item, lastIndex)\n    },\n    updateReverse (val: number, oldVal: number) {\n      if (this.changedByDelimiters) {\n        this.changedByDelimiters = false\n        return\n      }\n\n      this.isReverse = val < oldVal\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-window',\n      class: this.classes,\n      directives: [] as VNodeDirective[],\n    }\n\n    if (!this.touchless) {\n      const value = this.touch || {\n        left: () => {\n          this.$vuetify.rtl ? this.prev() : this.next()\n        },\n        right: () => {\n          this.$vuetify.rtl ? this.next() : this.prev()\n        },\n        end: (e: TouchEvent) => {\n          e.stopPropagation()\n        },\n        start: (e: TouchEvent) => {\n          e.stopPropagation()\n        },\n      }\n\n      data.directives.push({\n        name: 'touch',\n        value,\n      })\n    }\n\n    return h('div', data, [this.genContainer()])\n  },\n})\n"],"sourceRoot":""}