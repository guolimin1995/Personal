{"version":3,"sources":["../../../src/components/VStepper/VStepperContent.ts"],"names":[],"mappings":"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","sourcesContent":["// Components\nimport {\n  VTabTransition,\n  VTabReverseTransition,\n} from '../transitions'\n\n// Mixins\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Helpers\nimport { convertToUnit } from '../../util/helpers'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode, FunctionalComponentOptions, VNodeData } from 'vue'\n\nconst baseMixins = mixins(\n  RegistrableInject('stepper', 'v-stepper-content', 'v-stepper')\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  $refs: {\n    wrapper: HTMLElement\n  }\n  isVerticalProvided: boolean\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-stepper-content',\n\n  inject: {\n    isVerticalProvided: {\n      from: 'isVertical',\n    },\n  },\n\n  props: {\n    step: {\n      type: [Number, String],\n      required: true,\n    },\n  },\n\n  data () {\n    return {\n      height: 0 as number | string,\n      // Must be null to allow\n      // previous comparison\n      isActive: null as boolean | null,\n      isReverse: false,\n      isVertical: this.isVerticalProvided,\n    }\n  },\n\n  computed: {\n    computedTransition (): FunctionalComponentOptions {\n      return this.isReverse\n        ? VTabReverseTransition\n        : VTabTransition\n    },\n    styles (): object {\n      if (!this.isVertical) return {}\n\n      return {\n        height: convertToUnit(this.height),\n      }\n    },\n  },\n\n  watch: {\n    isActive (current, previous) {\n      // If active and the previous state\n      // was null, is just booting up\n      if (current && previous == null) {\n        this.height = 'auto'\n        return\n      }\n\n      if (!this.isVertical) return\n\n      if (this.isActive) this.enter()\n      else this.leave()\n    },\n  },\n\n  mounted () {\n    this.$refs.wrapper.addEventListener(\n      'transitionend',\n      this.onTransition,\n      false\n    )\n    this.stepper && this.stepper.register(this)\n  },\n\n  beforeDestroy () {\n    this.$refs.wrapper.removeEventListener(\n      'transitionend',\n      this.onTransition,\n      false\n    )\n    this.stepper && this.stepper.unregister(this)\n  },\n\n  methods: {\n    onTransition (e: TransitionEvent) {\n      if (!this.isActive ||\n        e.propertyName !== 'height'\n      ) return\n\n      this.height = 'auto'\n    },\n    enter () {\n      let scrollHeight = 0\n\n      // Render bug with height\n      requestAnimationFrame(() => {\n        scrollHeight = this.$refs.wrapper.scrollHeight\n      })\n\n      this.height = 0\n\n      // Give the collapsing element time to collapse\n      setTimeout(() => this.isActive && (this.height = (scrollHeight || 'auto')), 450)\n    },\n    leave () {\n      this.height = this.$refs.wrapper.clientHeight\n      setTimeout(() => (this.height = 0), 10)\n    },\n    toggle (step: string | number, reverse: boolean) {\n      this.isActive = step.toString() === this.step.toString()\n      this.isReverse = reverse\n    },\n  },\n\n  render (h): VNode {\n    const contentData = {\n      staticClass: 'v-stepper__content',\n    } as VNodeData\n    const wrapperData = {\n      staticClass: 'v-stepper__wrapper',\n      style: this.styles,\n      ref: 'wrapper',\n    }\n\n    if (!this.isVertical) {\n      contentData.directives = [{\n        name: 'show',\n        value: this.isActive,\n      }]\n    }\n\n    const wrapper = h('div', wrapperData, [this.$slots.default])\n    const content = h('div', contentData, [wrapper])\n\n    return h(this.computedTransition, {\n      on: this.$listeners,\n    }, [content])\n  },\n})\n"],"sourceRoot":""}