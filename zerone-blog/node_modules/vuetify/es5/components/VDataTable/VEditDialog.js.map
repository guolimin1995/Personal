{"version":3,"sources":["../../../src/components/VDataTable/VEditDialog.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VEditDialog.sass'\n\n// Mixins\nimport Returnable from '../../mixins/returnable'\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\n// Component\nimport VBtn from '../VBtn'\nimport VMenu from '../VMenu'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Returnable, Themeable).extend({\n  name: 'v-edit-dialog',\n\n  props: {\n    cancelText: {\n      default: 'Cancel',\n    },\n    large: Boolean,\n    eager: Boolean,\n    persistent: Boolean,\n    saveText: {\n      default: 'Save',\n    },\n    transition: {\n      type: String,\n      default: 'slide-x-reverse-transition',\n    },\n  },\n\n  data () {\n    return {\n      isActive: false,\n    }\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.$emit('open')\n        setTimeout(this.focus, 50) // Give DOM time to paint\n      } else {\n        this.$emit('close')\n      }\n    },\n  },\n\n  methods: {\n    cancel () {\n      this.isActive = false\n      this.$emit('cancel')\n    },\n    focus () {\n      const input = (this.$refs.content as Element).querySelector('input')\n      input && input.focus()\n    },\n    genButton (fn: Function, text: VNodeChildren): VNode {\n      return this.$createElement(VBtn, {\n        props: {\n          text: true,\n          color: 'primary',\n          light: true,\n        },\n        on: { click: fn },\n      }, text)\n    },\n    genActions (): VNode {\n      return this.$createElement('div', {\n        'class': 'v-small-dialog__actions',\n      }, [\n        this.genButton(this.cancel, this.cancelText),\n        this.genButton(() => {\n          this.save(this.returnValue)\n          this.$emit('save')\n        }, this.saveText),\n      ])\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-small-dialog__content',\n        on: {\n          keydown: (e: KeyboardEvent) => {\n            const input = (this.$refs.content as Element).querySelector('input')\n            e.keyCode === keyCodes.esc && this.cancel()\n            if (e.keyCode === keyCodes.enter && input) {\n              this.save(input.value)\n              this.$emit('save')\n            }\n          },\n        },\n        ref: 'content',\n      }, [this.$slots.input])\n    },\n  },\n\n  render (h): VNode {\n    return h(VMenu, {\n      staticClass: 'v-small-dialog',\n      class: this.themeClasses,\n      props: {\n        contentClass: 'v-small-dialog__menu-content',\n        transition: this.transition,\n        origin: 'top right',\n        right: true,\n        value: this.isActive,\n        closeOnClick: !this.persistent,\n        closeOnContentClick: false,\n        eager: this.eager,\n        light: this.light,\n        dark: this.dark,\n      },\n      on: {\n        input: (val: boolean) => (this.isActive = val),\n      },\n      scopedSlots: {\n        activator: ({ on }) => {\n          return h('span', {\n            staticClass: 'v-small-dialog__activator',\n            on,\n          }, this.$slots.default)\n        },\n      },\n    }, [\n      this.genContent(),\n      this.large ? this.genActions() : null,\n    ])\n  },\n})\n"],"sourceRoot":""}