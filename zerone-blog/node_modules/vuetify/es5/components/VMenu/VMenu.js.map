{"version":3,"sources":["../../../src/components/VMenu/VMenu.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VMenu.sass'\n\n// Mixins\nimport Delayable from '../../mixins/delayable'\nimport Dependent from '../../mixins/dependent'\nimport Detachable from '../../mixins/detachable'\nimport Menuable from '../../mixins/menuable'\nimport Returnable from '../../mixins/returnable'\nimport Toggleable from '../../mixins/toggleable'\nimport Themeable from '../../mixins/themeable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\nimport Resize from '../../directives/resize'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { convertToUnit, keyCodes } from '../../util/helpers'\nimport ThemeProvider from '../../util/ThemeProvider'\n\n// Types\nimport { VNode, VNodeDirective, VNodeData } from 'vue'\n\nconst baseMixins = mixins(\n  Dependent,\n  Delayable,\n  Detachable,\n  Menuable,\n  Returnable,\n  Toggleable,\n  Themeable\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-menu',\n\n  provide (): object {\n    return {\n      isInMenu: true,\n      // Pass theme through to default slot\n      theme: this.theme,\n    }\n  },\n\n  directives: {\n    ClickOutside,\n    Resize,\n  },\n\n  props: {\n    auto: Boolean,\n    closeOnClick: {\n      type: Boolean,\n      default: true,\n    },\n    closeOnContentClick: {\n      type: Boolean,\n      default: true,\n    },\n    disabled: Boolean,\n    disableKeys: Boolean,\n    fullWidth: Boolean,\n    maxHeight: {\n      type: [Number, String],\n      default: 'auto',\n    },\n    openOnClick: {\n      type: Boolean,\n      default: true,\n    },\n    offsetX: Boolean,\n    offsetY: Boolean,\n    openOnHover: Boolean,\n    origin: {\n      type: String,\n      default: 'top left',\n    },\n    transition: {\n      type: [Boolean, String],\n      default: 'v-menu-transition',\n    },\n  },\n\n  data () {\n    return {\n      calculatedTopAuto: 0,\n      defaultOffset: 8,\n      hasJustFocused: false,\n      listIndex: -1,\n      resizeTimeout: 0,\n      selectedIndex: null as null | number,\n      tiles: [] as HTMLElement[],\n    }\n  },\n\n  computed: {\n    activeTile (): HTMLElement | undefined {\n      return this.tiles[this.listIndex]\n    },\n    calculatedLeft (): string {\n      const menuWidth = Math.max(this.dimensions.content.width, parseFloat(this.calculatedMinWidth))\n\n      if (!this.auto) return this.calcLeft(menuWidth) || '0'\n\n      return convertToUnit(this.calcXOverflow(this.calcLeftAuto(), menuWidth)) || '0'\n    },\n    calculatedMaxHeight (): string {\n      const height = this.auto\n        ? '200px'\n        : convertToUnit(this.maxHeight)\n\n      return height || '0'\n    },\n    calculatedMaxWidth (): string {\n      return convertToUnit(this.maxWidth) || '0'\n    },\n    calculatedMinWidth (): string {\n      if (this.minWidth) {\n        return convertToUnit(this.minWidth) || '0'\n      }\n\n      const minWidth = Math.min(\n        this.dimensions.activator.width +\n        Number(this.nudgeWidth) +\n        (this.auto ? 16 : 0),\n        Math.max(this.pageWidth - 24, 0)\n      )\n\n      const calculatedMaxWidth = isNaN(parseInt(this.calculatedMaxWidth))\n        ? minWidth\n        : parseInt(this.calculatedMaxWidth)\n\n      return convertToUnit(Math.min(\n        calculatedMaxWidth,\n        minWidth\n      )) || '0'\n    },\n    calculatedTop (): string {\n      const top = !this.auto\n        ? this.calcTop()\n        : convertToUnit(this.calcYOverflow(this.calculatedTopAuto))\n\n      return top || '0'\n    },\n    hasClickableTiles (): boolean {\n      return Boolean(this.tiles.find(tile => tile.tabIndex > -1))\n    },\n    styles (): object {\n      return {\n        maxHeight: this.calculatedMaxHeight,\n        minWidth: this.calculatedMinWidth,\n        maxWidth: this.calculatedMaxWidth,\n        top: this.calculatedTop,\n        left: this.calculatedLeft,\n        transformOrigin: this.origin,\n        zIndex: this.zIndex || this.activeZIndex,\n      }\n    },\n  },\n\n  watch: {\n    isActive (val) {\n      if (!val) this.listIndex = -1\n    },\n    isContentActive (val) {\n      this.hasJustFocused = val\n    },\n    listIndex (next, prev) {\n      if (next in this.tiles) {\n        const tile = this.tiles[next]\n        tile.classList.add('v-list-item--highlighted')\n        this.$refs.content.scrollTop = tile.offsetTop - tile.clientHeight\n      }\n\n      prev in this.tiles &&\n        this.tiles[prev].classList.remove('v-list-item--highlighted')\n    },\n  },\n\n  mounted () {\n    this.isActive && this.callActivate()\n  },\n\n  methods: {\n    activate () {\n      // Update coordinates and dimensions of menu\n      // and its activator\n      this.updateDimensions()\n      // Start the transition\n      requestAnimationFrame(() => {\n        // Once transitioning, calculate scroll and top position\n        this.startTransition().then(() => {\n          if (this.$refs.content) {\n            this.calculatedTopAuto = this.calcTopAuto()\n            this.auto && (this.$refs.content.scrollTop = this.calcScrollPosition())\n          }\n        })\n      })\n    },\n    calcScrollPosition () {\n      const $el = this.$refs.content\n      const activeTile = $el.querySelector('.v-list-item--active') as HTMLElement\n      const maxScrollTop = $el.scrollHeight - $el.offsetHeight\n\n      return activeTile\n        ? Math.min(maxScrollTop, Math.max(0, activeTile.offsetTop - $el.offsetHeight / 2 + activeTile.offsetHeight / 2))\n        : $el.scrollTop\n    },\n    calcLeftAuto () {\n      return parseInt(this.dimensions.activator.left - this.defaultOffset * 2)\n    },\n    calcTopAuto () {\n      const $el = this.$refs.content\n      const activeTile = $el.querySelector('.v-list-item--active') as HTMLElement | null\n\n      if (!activeTile) {\n        this.selectedIndex = null\n      }\n\n      if (this.offsetY || !activeTile) {\n        return this.computedTop\n      }\n\n      this.selectedIndex = Array.from(this.tiles).indexOf(activeTile)\n\n      const tileDistanceFromMenuTop = activeTile.offsetTop - this.calcScrollPosition()\n      const firstTileOffsetTop = ($el.querySelector('.v-list-item') as HTMLElement).offsetTop\n\n      return this.computedTop - tileDistanceFromMenuTop - firstTileOffsetTop - 1\n    },\n    changeListIndex (e: KeyboardEvent) {\n      // For infinite scroll and autocomplete, re-evaluate children\n      this.getTiles()\n\n      if (!this.isActive || !this.hasClickableTiles) {\n        return\n      } else if (e.keyCode === keyCodes.tab) {\n        this.isActive = false\n        return\n      } else if (e.keyCode === keyCodes.down) {\n        this.nextTile()\n      } else if (e.keyCode === keyCodes.up) {\n        this.prevTile()\n      } else if (e.keyCode === keyCodes.enter && this.listIndex !== -1) {\n        this.tiles[this.listIndex].click()\n      } else { return }\n      // One of the conditions was met, prevent default action (#2988)\n      e.preventDefault()\n    },\n    closeConditional (e: Event) {\n      const target = e.target as HTMLElement\n\n      return this.isActive &&\n        this.closeOnClick &&\n        !this.$refs.content.contains(target)\n    },\n    genActivatorListeners () {\n      const listeners = Menuable.options.methods.genActivatorListeners.call(this)\n\n      if (!this.disableKeys) {\n        listeners.keydown = this.onKeyDown\n      }\n\n      return listeners\n    },\n    genTransition (): VNode {\n      if (!this.transition) return this.genContent()\n\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n        },\n      }, [this.genContent()])\n    },\n    genDirectives (): VNodeDirective[] {\n      const directives: VNodeDirective[] = [{\n        name: 'show',\n        value: this.isContentActive,\n      }]\n\n      // Do not add click outside for hover menu\n      if (!this.openOnHover && this.closeOnClick) {\n        directives.push({\n          name: 'click-outside',\n          value: () => { this.isActive = false },\n          args: {\n            closeConditional: this.closeConditional,\n            include: () => [this.$el, ...this.getOpenDependentElements()],\n          },\n        } as any)\n      }\n\n      return directives\n    },\n    genContent (): VNode {\n      const options = {\n        attrs: {\n          ...this.getScopeIdAttrs(),\n          role: 'role' in this.$attrs ? this.$attrs.role : 'menu',\n        },\n        staticClass: 'v-menu__content',\n        'class': {\n          ...this.rootThemeClasses,\n          'v-menu__content--auto': this.auto,\n          'v-menu__content--fixed': this.activatorFixed,\n          'menuable__content__active': this.isActive,\n          [this.contentClass.trim()]: true,\n        },\n        style: this.styles,\n        directives: this.genDirectives(),\n        ref: 'content',\n        on: {\n          click: (e: Event) => {\n            e.stopPropagation()\n\n            const target = e.target as HTMLElement\n\n            if (target.getAttribute('disabled')) return\n            if (this.closeOnContentClick) this.isActive = false\n          },\n          keydown: this.onKeyDown,\n        },\n      } as VNodeData\n\n      if (!this.disabled && this.openOnHover) {\n        options.on = options.on || {}\n        options.on.mouseenter = this.mouseEnterHandler\n      }\n\n      if (this.openOnHover) {\n        options.on = options.on || {}\n        options.on.mouseleave = this.mouseLeaveHandler\n      }\n\n      return this.$createElement(\n        'div',\n        options,\n        this.showLazyContent(this.getContentSlot())\n      )\n    },\n    getTiles () {\n      this.tiles = Array.from(this.$refs.content.querySelectorAll('.v-list-item'))\n    },\n    mouseEnterHandler () {\n      this.runDelay('open', () => {\n        if (this.hasJustFocused) return\n\n        this.hasJustFocused = true\n        this.isActive = true\n      })\n    },\n    mouseLeaveHandler (e: MouseEvent) {\n      // Prevent accidental re-activation\n      this.runDelay('close', () => {\n        if (this.$refs.content.contains(e.relatedTarget as HTMLElement)) return\n\n        requestAnimationFrame(() => {\n          this.isActive = false\n          this.callDeactivate()\n        })\n      })\n    },\n    nextTile () {\n      const tile = this.tiles[this.listIndex + 1]\n\n      if (!tile) {\n        if (!this.tiles.length) return\n\n        this.listIndex = -1\n        this.nextTile()\n\n        return\n      }\n\n      this.listIndex++\n      if (tile.tabIndex === -1) this.nextTile()\n    },\n    prevTile () {\n      const tile = this.tiles[this.listIndex - 1]\n\n      if (!tile) {\n        if (!this.tiles.length) return\n\n        this.listIndex = this.tiles.length\n        this.prevTile()\n\n        return\n      }\n\n      this.listIndex--\n      if (tile.tabIndex === -1) this.prevTile()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (e.keyCode === keyCodes.esc) {\n        // Wait for dependent elements to close first\n        setTimeout(() => { this.isActive = false })\n        const activator = this.getActivator()\n        this.$nextTick(() => activator && activator.focus())\n      } else if (\n        !this.isActive &&\n        [keyCodes.up, keyCodes.down].includes(e.keyCode)\n      ) {\n        this.isActive = true\n      }\n\n      // Allow for isActive watcher to generate tile list\n      this.$nextTick(() => this.changeListIndex(e))\n    },\n    onResize () {\n      if (!this.isActive) return\n\n      // Account for screen resize\n      // and orientation change\n      // eslint-disable-next-line no-unused-expressions\n      this.$refs.content.offsetWidth\n      this.updateDimensions()\n\n      // When resizing to a smaller width\n      // content width is evaluated before\n      // the new activator width has been\n      // set, causing it to not size properly\n      // hacky but will revisit in the future\n      clearTimeout(this.resizeTimeout)\n      this.resizeTimeout = window.setTimeout(this.updateDimensions, 100)\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-menu',\n      class: {\n        'v-menu--inline': !this.fullWidth && (this.$slots.activator || this.$scopedSlots.activator),\n      },\n      directives: [{\n        arg: '500',\n        name: 'resize',\n        value: this.onResize,\n      }],\n    }\n\n    return h('div', data, [\n      this.genActivator(),\n      this.$createElement(ThemeProvider, {\n        props: {\n          root: true,\n          light: this.light,\n          dark: this.dark,\n        },\n      }, [this.genTransition()]),\n    ])\n  },\n})\n"],"sourceRoot":""}